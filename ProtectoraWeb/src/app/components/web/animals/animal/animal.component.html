<div class="container mt-5" *ngIf="animal">

  <div class="row">
    <div class="card mb-3 w-100">
      <div class="row no-gutters">
        <div class="col-md-4" *ngIf="images">
          <img [src]="images[0].image" class="card-img" alt="...">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title">{{animal.name}}</h5>

            <div class="row">
              <div class="col-md-4">
                <p>Raza: </p>
              </div>
              <div class="col-md-4">
                <p>{{animal.breed | animalBreedNamePipe | async}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <p>Sexo: </p>
              </div>
              <div class="col-md-4">
                <p>{{animal.gender}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <p>Fecha de Nacimiento: </p>
              </div>
              <div class="col-md-4">
                <p>{{animal.birth_date | date:'mediumDate'}}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <p>Fecha de Entrada: </p>
              </div>
              <div class="col-md-4">
                <p>{{animal.entrance_date | date: 'mediumDate'}}</p>
              </div>
            </div>

            <div class="row" *ngIf="animal.status !=1">
              <div class="col-md-4">
                <p>Fecha de Adopción: </p>
              </div>
              <div class="col-md-4">
                <p>{{animal.adoption_date | date: 'mediumDate'}}</p>
              </div>
            </div>

            <div class="row">
              <div class="col-4 w-100">
                  <h3 *ngIf="animal.status == 1">
                    <span class="badge badge-secondary text-center badgeAviable p-10">
                      <i class="material-icons">pets</i> {{animal.status | animalStatusNamePipe}}
                    </span>
                  </h3> 
                  <h3 *ngIf="animal.status == 2">
                    <span class="badge badge-secondary text-center badgePreAdopt p-10">
                      <i class="material-icons">pets</i> {{animal.status | animalStatusNamePipe}}
                    </span>
                  </h3>
                  <h3 *ngIf="animal.status == 3">
                    <span class="badge badge-secondary text-center badgeAdopt p-10">
                      <i class="material-icons">pets</i> {{animal.status | animalStatusNamePipe}}
                    </span>
                  </h3>
              </div>
              <div class="col-6" *ngIf="animal.status == 1">
                <button mat-raised-button color="primary" class="btnBG" (click)="adoptAnimal(animalId)">Pre-Adoptar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row w-100">
    <ngb-tabset class="w-100">
      <ngb-tab title="Descripción">
        <ng-template ngbTabContent>
          <div class="col-md-12 mt-2">
            <p>{{animal.description}}</p>
          </div>
        </ng-template>
      </ngb-tab>
      <ngb-tab title="Imágenes">
        <ng-template ngbTabContent>
          <div class="col-md-12 my-5 text-center">
            <app-animal-images [animalId]="animalId" [animalData]=animalData></app-animal-images>
          </div>
        </ng-template>
      </ngb-tab>
      <ngb-tab title="Comentarios">
        <ng-template ngbTabContent>
          <div class="col-md-12 mt-2">
           <app-comments [animalId]="animalId"></app-comments>
          </div>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>  
  </div>

</div>
