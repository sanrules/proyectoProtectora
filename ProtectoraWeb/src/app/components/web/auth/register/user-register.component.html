<form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">
    <mat-horizontal-stepper #stepper formArrayName="formArray" [linear]="isLinear">
      <mat-step formGroupName="0" [stepControl]="formArray?.get([0])">
        <ng-template matStepLabel>Datos de usuario</ng-template>
        <div class="row">
          <div class="col-md-4">
            <mat-form-field>
              <input matInput placeholder="Nombre de Usuario" type="text" formControlName="userName" id="userName" >
              <mat-error>
                Nombre de usuario requerido: min 4 caracteres.
                Mayúsculas, minúsculas, números, -, _
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field>
              <input matInput placeholder="Contraseña" type="password" formControlName="password" id="password" >
              <mat-error>
                Contraseña requerida: min 6 caracteres, debe contener minúscula, mayúscula, número y símbolo
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field>
              <input matInput placeholder="Correo Electrónico" type="text" formControlName="email" id="email" >
              <mat-error>
                Email requerido: Formato: ejemplo@email.com
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="mt-5">
          <button mat-button matStepperNext type="button">Siguiente</button>
        </div>
      </mat-step>

      <mat-step formGroupName="1" [stepControl]="formArray?.get([1])">
        <ng-template matStepLabel>Datos Personales</ng-template>
        <mat-form-field>
          <input matInput placeholder="Nombre" type="text" formControlName="name" id="name">
          <mat-error>
            Nombre requerido
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Apellidos" type="text" formControlName="surname" id="surname" >
          <mat-error>
            Apellido requerido
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Teléfono" type="number" formControlName="phone" id="phone" >
          <mat-error>
            Número de teléfono requerido: 9 números
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput [matDatepicker]="picker" placeholder="Fecha de Nacimiento" formControlName="birthDate" readonly="true">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error>
            Fecha de Nacimiento requerida en formato DD/MM/AAAA
          </mat-error>
        </mat-form-field>
        <div class="mt-5">
          <button mat-button matStepperPrevious type="button">Anterior</button>
          <button mat-button matStepperNext type="button">Siguiente</button>
        </div>
      </mat-step>

      <mat-step formGroupName="2" [stepControl]="formArray?.get([2])">
          <ng-template matStepLabel>Dirección</ng-template>
          <div class="row">
          <div class="col-md-8">
            <mat-form-field>
              <input matInput placeholder="Calle" type="text" formControlName="street" id="street">
              <mat-error>
                  Calle requerido
                </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-1">
            <mat-form-field>
              <input matInput placeholder="Número" type="number" formControlName="number" id="number">
              <mat-error>
                  Número de la calle requerido.
                </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-1">
            <mat-form-field>
              <input matInput placeholder="Portal" type="text" formControlName="portal" id="portal">
            </mat-form-field>
          </div>
          <div class="col-md-1">
            <mat-form-field>
              <input matInput placeholder="Piso" type="number" formControlName="floor" id="floor">
            </mat-form-field>
          </div>
          <div class="col-md-1">
            <mat-form-field>
              <input matInput placeholder="Puerta" type="text" formControlName="door" id="door">
            </mat-form-field>
          </div>
        </div>
        <div class="mt-5">
          <button mat-button matStepperPrevious type="button">Anterior</button>
          <button mat-button matStepperNext type="button">Siguiente</button>
        </div>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Enviar</ng-template>
        <button mat-raised-button color="primary" [disabled]="!registerForm.valid">Registrar Usuario</button>
        <div class="mt-5">
          <button mat-button matStepperPrevious type="button">Anterior</button>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
    </form>